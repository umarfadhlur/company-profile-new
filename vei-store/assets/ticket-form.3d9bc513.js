import{d as b,aU as v,aS as k,r,o as h,a as w,b as y,c as x,e as t,t as c,V as T,G as l,R as u,a4 as g,g as V,w as D,u as n,f as M}from"./index.24daf0ec.js";const S={class:"p-6 flex justify-center"},U={class:"bg-white rounded-lg shadow p-6 w-full max-w-xl"},B={class:"text-xl font-bold mb-4 text-primary"},C=["onSubmit"],E=t("label",{class:"block font-semibold mb-1"},"Judul",-1),N=t("label",{class:"block font-semibold mb-1"},"Deskripsi",-1),R=t("label",{class:"block font-semibold mb-1"},"Prioritas",-1),J=t("option",{value:"low"},"Low",-1),L=t("option",{value:"medium"},"Medium",-1),$=t("option",{value:"high"},"High",-1),j=[J,L,$],A={type:"submit",class:"btn btn-primary w-full mt-2"},K=b({__name:"ticket-form",setup(G){const a=v(),d=k(),i=r(!!a.params.code),e=r({title:"",description:"",priority:"low"}),p=async()=>{if(i.value){const s=(await n().get(`/api/ticket/${a.params.code}`)).data.data;e.value={title:s.title,description:s.description,priority:s.priority}}},m=async()=>{!e.value.title||!e.value.description||(i.value?await n().put(`/api/ticket/${a.params.code}`,e.value):await n().post("/api/ticket",e.value),d.push("/apps/ticket"))};return h(p),(_,s)=>{const f=w("router-link");return y(),x("div",S,[t("div",U,[t("h2",B,c(i.value?"Edit Ticket":"Tambah Ticket Baru"),1),t("form",{onSubmit:T(m,["prevent"]),class:"space-y-4"},[t("div",null,[E,l(t("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>e.value.title=o),placeholder:"Judul Ticket",class:"form-input w-full"},null,512),[[u,e.value.title]])]),t("div",null,[N,l(t("textarea",{"onUpdate:modelValue":s[1]||(s[1]=o=>e.value.description=o),placeholder:"Deskripsi Ticket",class:"form-input w-full",rows:"3"},null,512),[[u,e.value.description]])]),t("div",null,[R,l(t("select",{"onUpdate:modelValue":s[2]||(s[2]=o=>e.value.priority=o),class:"form-input w-full"},j,512),[[g,e.value.priority]])]),t("button",A,c(i.value?"Update Ticket":"Tambah Ticket"),1),V(f,{to:"/apps/ticket",class:"btn btn-secondary w-full mt-2"},{default:D(()=>[M("Kembali ke List")]),_:1})],40,C)])])}}});export{K as default};
