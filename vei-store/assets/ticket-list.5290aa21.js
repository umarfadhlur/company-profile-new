import{d as m,b as e,c as s,e as t,t as l,F as x,y,r as p,o as v,a as g,g as _,w as k,K as w,B as $,u as h,f as b}from"./index.c057e6d1.js";const C={class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},T={class:"bg-white p-6 rounded shadow-lg w-full max-w-lg"},B={class:"text-xl font-bold mb-2"},D={class:"mt-4"},N=t("h4",{class:"font-semibold"},"Replies:",-1),V=m({__name:"ticketdetail",props:{ticket:null},setup(n){return(c,a)=>(e(),s("div",C,[t("div",T,[t("h3",B,l(n.ticket.title),1),t("p",null,"Status: "+l(n.ticket.status),1),t("p",null,"Deskripsi: "+l(n.ticket.description),1),t("div",D,[N,t("ul",null,[(e(!0),s(x,null,y(n.ticket.replies,i=>(e(),s("li",{key:i.id},l(i.content),1))),128))])]),t("button",{onClick:a[0]||(a[0]=i=>c.$emit("close")),class:"btn btn-secondary mt-4"},"Tutup")])]))}}),S={class:"p-6 space-y-6"},j={class:"bg-white rounded-lg shadow p-6 max-w-4xl mx-auto"},A={class:"flex justify-between items-center mb-4"},E=t("h2",{class:"text-xl font-bold text-primary"},"Daftar Ticket",-1),F={key:0,class:"overflow-x-auto table-responsive"},K={class:"table-auto w-full border"},z=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-4 py-2"},"Kode"),t("th",{class:"px-4 py-2"},"Judul"),t("th",{class:"px-4 py-2"},"Status"),t("th",{class:"px-4 py-2"},"Aksi")])],-1),J={class:"px-4 py-2"},L={class:"px-4 py-2"},M={class:"px-4 py-2"},R={class:"px-4 py-2 flex space-x-2 gap-3"},q=["onClick"],G={key:1,class:"text-gray-500 text-center py-8"},O=m({__name:"ticket-list",setup(n){const c=p([]),a=p(null),i=async()=>{const d=await h().get("/api/ticket");c.value=d.data.data},f=async d=>{const r=await h().get(`/api/ticket/${d}`);a.value=r.data.data};return v(i),(d,r)=>{const u=g("router-link");return e(),s("div",S,[t("div",j,[t("div",A,[E,_(u,{to:"/apps/ticket/add",class:"btn btn-primary"},{default:k(()=>[b("Tambah Ticket")]),_:1})]),c.value.length?(e(),s("div",F,[t("table",K,[z,t("tbody",null,[(e(!0),s(x,null,y(c.value,o=>(e(),s("tr",{key:o.code,class:"hover:bg-gray-50"},[t("td",J,l(o.code),1),t("td",L,l(o.title),1),t("td",M,l(o.status),1),t("td",R,[t("button",{onClick:H=>f(o.code),class:"btn btn-info btn-sm"},"Detail",8,q),_(u,{to:`/apps/ticket/edit/${o.code}`,class:"btn btn-warning btn-sm"},{default:k(()=>[b("Edit")]),_:2},1032,["to"])])]))),128))])])])):(e(),s("div",G,"Belum ada ticket."))]),a.value?(e(),w(V,{key:0,ticket:a.value,onClose:r[0]||(r[0]=o=>a.value=null)},null,8,["ticket"])):$("",!0)])}}});export{O as default};
