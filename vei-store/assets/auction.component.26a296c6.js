import{r as l,j as y,D as c}from"./index.d37f362c.js";import{b as u}from"./filter.cd118be4.js";function f(s){if(s){let r="";for(const o of Object.keys(s.sort))r.length>0&&(r+="&"),r+="sort="+s.sort[o];return`${r}&page=${s.page}&size=${s.size}`}return""}function b(){const s="http://localhost:8090/api/m-auctions",r="http://localhost:8090/api/ad-reference-lists",o=l([]),d=20,p=1,g="id";let n=[];const m=y();l([{field:"id",title:"ID",isUnique:!0},{field:"firstName",title:"User"},{field:"country",title:"Country",sort:!1},{field:"email",title:"Email"},{field:"age",title:"Progress",sort:!1},{field:"phone",title:"Phone"},{field:"rating",title:"Rate",sort:!1,minWidth:"120px",headerClass:"justify-center",cellClass:"justify-center"},{field:"series",title:"Progress",sort:!1},{field:"status",title:"Status",sort:!1}]);const h=()=>[g+",desc"];return{tableData:o,retrieveAll:async()=>{const t={page:p-1,size:d,sort:h()},i=["active.equals=true"];let e=f(t);i&&(e.length&&(e+="&"),e+=u(i));try{const a=await c.get(`${s}?${e}`);o.value=a.data}catch(a){console.error("Error:",a)}},retrieveDocStatuses:async()=>{const t=["active.equals=true","adReferenceValue.equals=docStatus"];let e=f({page:0,size:1e3,sort:["name"]});t&&(e.length&&(e+="&"),e+=u(t));try{n=(await c.get(`${r}?${e}`)).data}catch(a){console.error("Error:",a)}},printDocStatus:t=>{var i;return!t.remainingTime&&t.auctionStatus=="LIVE"?"Finished":t.auctionStatus=="DRF"?"Drafted":((i=n.find(e=>e.value===t.auctionStatus))==null?void 0:i.name)||t.auctionStatus},store:m}}export{b as A};
